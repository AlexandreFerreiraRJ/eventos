(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"8lMk":function(e,n,t){"use strict";t.r(n);var a=t("jx1L"),i=t("L2JU");function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){o(e,n,t[n])})}return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s={methods:r({},Object(i.mapActions)("categorizables",["clearForm"])),computed:r({},Object(i.mapState)({people:function(e){return e.people},categorizables:function(e){return e.categorizables}}))},c={name:"categorizables",uri:"people/{people.selected.id}/categories/categorizables"},l={props:["mode"],mixins:[a.a,s],data:function(){return{service:c,categorizablesChecked:{},checkedCategory:{}}},computed:{categorizablesFilterText:{get:function(){return this.$store.state.categorizables.data.filter.text},set:function(e){return this.$store.dispatch(this.service.name+"/mutateSetQueryFilterText",e)}},categorizablesPerPage:{get:function(){return this.$store.state.categorizables.data.links.pagination.per_page},set:function(e){return this.$store.dispatch("categorizables/setPerPage",e)}}},methods:{categorizablesGotoPage:function(e){this.gotoPage(e,"categorizables",this.categorizables.data.links.pagination)},isChecked:function(e){return!!this.checkedCategory.hasOwnProperty(e.id)&&this.checkedCategory[e.id].checked},toggleCheck:function(e){this.checkedCategory.hasOwnProperty(e.id)||(this.checkedCategory[e.id]={id:e.id,checked:!1}),this.checkedCategory[e.id].checked=!this.checkedCategory[e.id].checked,this.categorizablesChecked=this.getCategorizablesChecked()},categorize:function(){var e={personId:this.people.selected.id,categories:this.categorizablesChecked};this.$store.dispatch("categorizables/categorize",e),this.$router.go(-1)},getCategorizablesChecked:function(){return _.filter(this.checkedCategory,function(e){return e.checked})}}},g=(t("e4Ou"),t("KHd+")),u=Object(g.a)(l,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",{staticClass:"py-2 text-center"},[t("h1",[e._v(e._s(e.people.selected.name))]),e._v(" "),t("h2",[e._v("Associar Categorias a Pessoas")])]),e._v(" "),t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-6"},[e.categorizables.data.links?t("app-table-panel",{attrs:{title:"Categorias","per-page":e.categorizablesPerPage,"filter-text":e.categorizablesFilterText},on:{"set-per-page":function(n){e.categorizablesPerPage=n},"input-filter-text":function(n){e.categorizablesFilterText=n.target.value}}},[t("template",{slot:"buttons"},[e.categorizablesChecked.length>0?t("button",{staticClass:"btn btn-primary btn-sm pull-right",on:{click:function(n){e.categorize()}}},[e._v("\n                        associar categorias\n                    ")]):e._e()]),e._v(" "),t("app-table",{attrs:{pagination:e.categorizables.data.links.pagination,columns:["#","Nome"]},on:{"goto-page":function(n){e.categorizablesGotoPage(n)}}},e._l(e.categorizables.data.rows,function(n){return t("tr",{class:{"cursor-pointer":!0,"bg-primary-lighter text-white":e.isCurrent(n,e.categorizables.selected)}},[t("td",{staticClass:"align-middle"},[e._v(e._s(n.id))]),e._v(" "),t("td",{staticClass:"align-middle"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked(n)},on:{input:function(t){e.toggleCheck(n)}}})]),e._v(" "),t("td",{staticClass:"align-middle"},[e._v("\n                            "+e._s(n.name)+"\n                        ")])])}),0)],2):e._e()],1)])])},[],!1,null,null,null);u.options.__file="CategorizablesForm.vue";n.default=u.exports},"9Frc":function(e,n,t){var a=t("YbS7");"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t("aET+")(a,i);a.locals&&(e.exports=a.locals)},YbS7:function(e,n,t){(e.exports=t("I1BE")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},e4Ou:function(e,n,t){"use strict";var a=t("9Frc");t.n(a).a}}]);
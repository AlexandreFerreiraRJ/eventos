(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"8lMk":function(e,t,n){"use strict";n.r(t);var i=n("jx1L"),r=n("L2JU");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={methods:s({},Object(r.mapActions)("categorizables",["clearForm"])),computed:s({},Object(r.mapState)({people:function(e){return e.people},categorizables:function(e){return e.categorizables}}))},c={name:"categorizables",uri:"people/{people.selected.id}/categories/categorizables"},u={props:["mode"],mixins:[i.a,o],data:function(){return{service:c,categorizablesChecked:{},checkedCategory:{}}},computed:{categorizablesFilterText:{get:function(){return this.$store.state.categorizables.data.filter.text},set:function(e){return this.$store.dispatch(this.service.name+"/mutateSetQueryFilterText",e)}},categorizablesPerPage:{get:function(){return this.$store.state.categorizables.data.links.pagination.per_page},set:function(e){return this.$store.dispatch("categorizables/setPerPage",e)}}},methods:{categorizablesGotoPage:function(e){this.gotoPage(e,"categorizables",this.categorizables.data.links.pagination)},isChecked:function(e){return!!this.checkedCategory.hasOwnProperty(e.id)&&this.checkedCategory[e.id].checked},toggleCheck:function(e){this.checkedCategory.hasOwnProperty(e.id)||(this.checkedCategory[e.id]={id:e.id,checked:!1}),this.checkedCategory[e.id].checked=!this.checkedCategory[e.id].checked,this.categorizablesChecked=this.getCategorizablesChecked()},categorize:function(){var e={personId:this.people.selected.id,categories:this.categorizablesChecked};this.$store.dispatch("categorizables/categorize",e),this.$router.go(-1)},getCategorizablesChecked:function(){return _.filter(this.checkedCategory,function(e){return e.checked})}}},l=(n("e4Ou"),n("KHd+")),h=Object(l.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"py-2 text-center"},[n("h1",[e._v(e._s(e.people.selected.name))]),e._v(" "),n("h2",[e._v("Associar Categorias a Pessoas")])]),e._v(" "),n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-6"},[e.categorizables.data.links?n("app-table-panel",{attrs:{title:"Categorias","per-page":e.categorizablesPerPage,"filter-text":e.categorizablesFilterText},on:{"set-per-page":function(t){e.categorizablesPerPage=t},"input-filter-text":function(t){e.categorizablesFilterText=t.target.value}}},[n("template",{slot:"buttons"},[e.categorizablesChecked.length>0?n("button",{staticClass:"btn btn-primary btn-sm pull-right",on:{click:function(t){e.categorize()}}},[e._v("\n                        associar categorias\n                    ")]):e._e()]),e._v(" "),n("app-table",{attrs:{pagination:e.categorizables.data.links.pagination,columns:["#","Nome"]},on:{"goto-page":function(t){e.categorizablesGotoPage(t)}}},e._l(e.categorizables.data.rows,function(t){return n("tr",{class:{"cursor-pointer":!0,"bg-primary-lighter text-white":e.isCurrent(t,e.categorizables.selected)}},[n("td",{staticClass:"align-middle"},[e._v(e._s(t.id))]),e._v(" "),n("td",{staticClass:"align-middle"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked(t)},on:{input:function(n){e.toggleCheck(t)}}})]),e._v(" "),n("td",{staticClass:"align-middle"},[e._v("\n                            "+e._s(t.name)+"\n                        ")])])}),0)],2):e._e()],1)])])},[],!1,null,null,null);h.options.__file="CategorizablesForm.vue";t.default=h.exports},"9Frc":function(e,t,n){var i=n("YbS7");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,r);i.locals&&(e.exports=i.locals)},YbS7:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},e4Ou:function(e,t,n){"use strict";var i=n("9Frc");n.n(i).a},jx1L:function(e,t,n){"use strict";t.a={data:function(){return{loading:{environment:!1,table:!1}}},computed:{filterText:{get:function(){return this.$store.state[this.service.name].data.filter.text},set:function(e){return this.$store.dispatch(this.service.name+"/mutateSetQueryFilterText",e)}},emptyForm:function(){return this.$store.state[this.service.name].emptyForm},form:function(){return this.$store.state[this.service.name].form},selected:function(){return this.$store.state[this.service.name].selected},environment:function(){return this.$store.state.environment},pagination:function(){return this.$store.state[this.service.name].data.links?this.$store.state[this.service.name].data.links.pagination:{}},perPage:{get:function(){return this.pagination.per_page},set:function(e){this.$store.dispatch(this.service.name+"/setPerPage",e)}}},methods:{load:function(){return this.$store.commit(this.service.name+"/mutateSetPerPage",this.environment.user.per_page),this.$store.dispatch(this.service.name+"/load")},select:function(e){return this.$store.dispatch(this.service.name+"/select",e)},save:function(e){return this.$store.dispatch(this.service.name+"/save",e)},mutateSetErrors:function(e){this.$store.commit(this.service.name+"/mutateSetErrors",e)},mutateFormData:function(e){this.$store.commit(this.service.name+"/mutateFormData",e)},mutateSetFormField:function(e){this.$store.commit(this.service.name+"/mutateSetFormField",e)},mutateSetService:function(e){this.$store.commit(this.service.name+"/mutateSetService",e)},isLoading:function(){return this.loading.environment||this.loading.table},boot:function(){var e=this;this.mutateSetService(this.service),!this.service.hasOwnProperty("performLoad")||this.service.performLoad?this.load().then(function(){e.fillFormWhenEditing()}):this.fillFormWhenEditing(),this.$store.dispatch(this.service.name+"/subscribeToTableEvents")},fillFormWhenEditing:function(){var e=this,t="update"===this.mode?_.find(this.rows,function(t){return t.id===e.$route.params.id}):this.form?clone(this.emptyForm):{};this.mutateFormData(t),this.mutateSetErrors({}),this.fillAdditionalFormFields()},fillAdditionalFormFields:function(){},back:function(){this.$router.back()},saveModel:function(){var e=this;this.save(this.mode).then(function(){e.back(),e.clearForm()})},can:function(e){return e&&!1},cannot:function(e){return!can(e)},gotoPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n=n||this.pagination).current_page!==e&&(e<1||e>n.last_page||this.$store.dispatch((t||this.service.name)+"/setCurrentPage",e))},isCurrent:function(e,t){return e.id===t.id},setPerPage:function(){this.$store.commit(this.service.name+"/mutateSetPerPage",this.environment.user.per_page)},getDataUrl:function(){return buildApiUrl(this.service.uri,this.$store.state)},getStoreUrl:function(){return buildApiUrl(this.service.uri,this.$store.state)},getUpdateStoreUrl:function(){return buildApiUrl(this.service.uri,this.$store.state)}},mounted:function(){this.boot()}}}}]);
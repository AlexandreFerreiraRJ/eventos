(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"1NDv":function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"L5/1":function(n,t,e){"use strict";e.r(t);var o=e("jx1L"),i=e("L2JU");function s(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){r(n,t,e[t])})}return n}function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var a={methods:s({},Object(i.mapActions)("institutions",["clearForm"])),computed:s({},Object(i.mapState)({phoneBook:function(n){return n.phoneBook}}))},l=e("WPQR");function c(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var p={name:"people",uri:"people"},u={mixins:[o.a,l.a,a],data:function(){return this.$store.dispatch("environment/loadRoles"),this.$store.dispatch("environment/loadInstitutions"),{service:p}},methods:function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){c(n,t,e[t])})}return n}({},Object(i.mapActions)(p.name,["selectPerson"]),{selectPerson:function(n){this.$store.dispatch("people/select",n,{root:!0}),this.$store.dispatch("phoneBook/setPerson",n,{root:!0})}})},d=(e("Y0II"),e("KHd+")),f=Object(d.a)(u,function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"py-2 text-center"},[n._m(0),n._v(" "),n.selected.id&&n.personInstitutions.data.links?e("div",{staticClass:"row bg-primary text-white"},[e("div",{staticClass:"col-12 mt-2"},[e("div",{staticClass:"row justify-content-center align-items-center"},[e("div",{staticClass:"col-8"},[e("h1",{staticClass:"display-4 mb-0"},[n._v(n._s(n.selected.name))])]),n._v(" "),e("div",{staticClass:"col-4"},[e("img",{staticClass:"img-thumbnail rounded mx-auto d-block mb-2",attrs:{src:n.makePhotoUrl(n.selected.photoUrl),width:"200",height:"200"}})])])])]):n._e()]),n._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-4"},[e("app-table-panel",{attrs:{title:"Pessoas ("+n.pagination.total+")","per-page":n.perPage,"filter-text":n.filterText},on:{"input-filter-text":function(t){n.filterText=t.target.value},"set-per-page":function(t){n.perPage=t}}},[e("template",{slot:"selects"},[e("app-institution-filter-for-person",{attrs:{name:"institution_id",label:"Instituição",required:!0,form:n.form,options:n.environment.tables.institutions}}),n._v(" "),e("app-role-filter-for-person",{attrs:{name:"role_id",label:"Funções",required:!0,form:n.form,options:n.environment.tables.roles}})],1),n._v(" "),e("app-table",{attrs:{pagination:n.people.data.links.pagination,columns:["#","Tratamento","Nome","Nome público"]},on:{"goto-page":function(t){n.gotoPage(t)}}},n._l(n.people.data.rows,function(t){return e("tr",{class:{"cursor-pointer":!0,"bg-primary text-white":n.isCurrent(t,n.selected)},on:{click:function(e){n.selectPerson(t)}}},[e("td",{staticClass:"align-middle"},[n._v(n._s(t.id))]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v(n._s(t.title))]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v(n._s(t.name))]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v(n._s(t.nickname))])])}),0)],2)],1),n._v(" "),e("div",{staticClass:"col-8"},[n.phoneBook.data&&n.phoneBook.data.rows&&n.phoneBook.data.rows.length>0?e("app-table-panel",{attrs:{title:"Contatos ("+n.phoneBook.data.rows.length+")"}},[e("app-table",{attrs:{columns:["Pertence a","Função","Instituição","Tipo","Contato"]}},n._l(n.phoneBook.data.rows,function(t){return e("tr",{on:{click:function(e){n.selectPerson(t)}}},[e("td",{staticClass:"align-middle"},[n._v(n._s(t.from))]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v(n._s(t.role))]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v("\n                            "+n._s(t.institution)+"\n                        ")]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v(n._s(t.type))]),n._v(" "),e("td",{staticClass:"align-middle"},[n._v(n._s(t.contact))])])}),0)],1):n._e()],1)])])},[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("h2",[this._v("Lista Telefônica e Contatos")])])])}],!1,null,null,null);f.options.__file="PhoneBook.vue";t.default=f.exports},NQB0:function(n,t,e){var o=e("1NDv");"string"==typeof o&&(o=[[n.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(o,i);o.locals&&(n.exports=o.locals)},WPQR:function(n,t,e){"use strict";var o=e("L2JU");function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){s(n,t,e[t])})}return n}function s(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}t.a={data:function(){return{people_current:{id:"null"}}},methods:i({},Object(o.mapActions)("people",["clearForm"]),{makePhotoUrl:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n||(n=this.people.form.fields.photoUrl),n||(n=this.people.selected.photoUrl);var t=this.people_current.id!=this.people.selected.id;return this.people_current.id=this.people.selected.id,flush_image_cache(n,t)}}),computed:i({},Object(o.mapState)({people:function(n){return n.people},personInstitutions:function(n){return n.personInstitutions},contacts:function(n){return n.contacts},addresses:function(n){return n.addresses},personCategories:function(n){return n.personCategories},advisors:function(n){return n.advisors},advisorContacts:function(n){return n.advisorContacts}}))}},Y0II:function(n,t,e){"use strict";var o=e("NQB0");e.n(o).a}}]);